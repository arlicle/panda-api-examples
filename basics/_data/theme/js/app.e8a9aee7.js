(function(e){function t(t){for(var i,s,c=t[0],o=t[1],l=t[2],d=0,p=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,c=1;c<n.length;c++){var o=n[c];0!==a[o]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},a={app:0},r=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var i=n("85ec"),a=n.n(i);a.a},"0b9a":function(e,t,n){"use strict";var i=n("bd4a"),a=n.n(i);a.a},"0d23":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"field__item"},[n("div",{staticClass:"row"},[n("span",{staticClass:"prop"},[e._v(e._s(e.field.prop))]),n("span",{staticClass:"type"},[e._v(e._s(e.field.type||"string"))]),e.getRequired?e._e():n("span",{staticClass:"required"},[e._v("选填")]),n("span",{staticClass:"name"},[e._v(e._s(e.field.name||"无"))])]),e.isComplexType||"enum"in e.field?n("complex-type",{attrs:{field:e.field}}):e._e()],1)},a=[],r=(n("caad6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"complex__type"},["enum"in e.field?n("Enum",{attrs:{enums:e.field.enum}}):e._e(),e.isObject?n("ObjectType",{attrs:{title:"子属性",fields:e.field.object}}):e._e(),e.isArray?n("ObjectType",{attrs:{title:"数组成员",fields:e.field.item}}):e._e()],1)}),s=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"title"},[e._v("枚举")]),e._l(e.enums,(function(t,i){return n("div",{key:i,staticClass:"enum"},[e._v(" "+e._s(t[0])+" : "+e._s(t[1])+" ")])}))],2)},o=[],l={name:"enum",props:{enums:Array}},u=l,d=(n("0b9a"),n("2877")),p=Object(d["a"])(u,c,o,!1,null,"6f1dfc3b",null),f=p.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"title"},[e._v(e._s(e.title))]),e._l(e.fields,(function(e,t){return n("div",{key:t,staticClass:"field"},[n("Field",{attrs:{field:Object.assign({},e,{prop:t})}})],1)}))],2)},v=[],h=(n("d3b7"),{name:"ObjectType",components:{Field:function(){return Promise.resolve().then(n.bind(null,"0d23"))}},props:{title:String,fields:Object}}),b=h,_=(n("a3fb"),Object(d["a"])(b,m,v,!1,null,"63e1e490",null)),y=_.exports,g={name:"ComplexType",components:{Enum:f,ObjectType:y},props:{field:Object},computed:{isObject:function(){return"object"===this.field.type},isArray:function(){return"array"===this.field.type}}},O=g,j=(n("aef5"),Object(d["a"])(O,r,s,!1,null,"90cc04a2",null)),C=j.exports,w={name:"field",components:{ComplexType:C},props:{field:Object},computed:{isComplexType:function(){return["array","enum","object"].includes(this.field.type)},getRequired:function(){return!("required"in this.field)||this.field.required}}},S=w,D=(n("cc10"),Object(d["a"])(S,i,a,!1,null,"61bc58bb",null));t["default"]=D.exports},"1f84":function(e,t,n){},"2ccc":function(e,t,n){"use strict";var i=n("7ea7"),a=n.n(i);a.a},"31db":function(e,t,n){"use strict";var i=n("43b0"),a=n.n(i);a.a},"43b0":function(e,t,n){},4566:function(e,t,n){},"46a5":function(e,t,n){},"49f1":function(e,t,n){"use strict";var i=n("46a5"),a=n.n(i);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("be4f"),n("450d");var i=n("896a"),a=n.n(i),r=(n("e623"),n("e379"),n("5dc8"),n("37e1"),n("2b0e")),s=n("1487"),c=n.n(s),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[n("Menu",{attrs:{width:e.menuWidth},on:{clickName:e.handleSelectName,selectDoc:e.handleSelectDoc,selectApi:e.handleSelectApi}}),n("div",{staticClass:"api-container",style:{marginLeft:e.menuWidth+"px"}},[e.isMain&&e.baseInfo.read_me?n("Main",{attrs:{desc:e.baseInfo.read_me}}):[n("Doc",{attrs:{doc:e.doc}}),n("Api",{attrs:{api:e.api}})]],2)],1)},l=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{domProps:{innerHTML:e._s(e.md)}})},d=[],p=n("d4cd"),f=n.n(p),m=function(e){return new f.a({highlight:function(e,t){return c.a.highlight(t,e).value}}).render(e)},v={props:{desc:{type:String,default:""}},computed:{md:function(){return m(this.desc)}}},h=v,b=n("2877"),_=Object(b["a"])(h,u,d,!1,null,null,null),y=_.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu",style:{width:e.width+"px"}},[n("div",{staticClass:"title",on:{click:e.handleClickName}},[e._v(e._s(e.baseInfo.project_name))]),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"docs__menu"},e._l(e.baseInfo.api_docs,(function(t){return n("div",{key:t.filename,staticClass:"doc__item"},[n("div",{staticClass:"doc__name",on:{click:function(n){return e.showApi(t.filename)}}},[e._v(e._s(t.name))]),e.currentFilename===t.filename?n("div",{staticClass:"doc__list"},[n("div",{staticClass:"line"}),n("div",{staticClass:"line--current",style:{top:40*e.currentApiIndex+"px"}}),e._l(e.currentDoc.apis,(function(t,i){return n("div",{key:t.name,staticClass:"doc",class:{"doc--active":e.currentApi===t.name},on:{click:function(n){return e.getApi(t,i)}}},[e._v(" "+e._s(t.name)+" ")])}))],2):e._e()])})),0)])},O=[],j=(n("b0c0"),n("a9e3"),n("d3b7"),{props:{width:{type:Number,default:250}},computed:{baseInfo:function(){return this.$store.state.baseInfo}},data:function(){return{loading:!1,currentFilename:"",currentDoc:{},currentApi:"",currentApiIndex:-1}},mounted:function(){var e=localStorage.getItem("app.isMain");if("false"===e){var t=localStorage.getItem("lastFileName");t&&this.showApi(t)}},methods:{handleClickName:function(){this.$emit("clickName"),this.currentApi="",this.currentApi=-1,this.currentDoc={},this.currentFilename=""},showApi:function(e){var t=this,n=localStorage.getItem("lastFileName");this.loading=!0,this.$store.dispatch("getDocs",{filename:e}).then((function(i){if(t.currentDoc=i,t.currentFilename=e,t.$emit("selectDoc",i),localStorage.setItem("lastFileName",e),localStorage.setItem("doc",JSON.stringify(i)),i.apis.length>0){var a=Number(localStorage.getItem("currentApiIndex"))||0,r=n===e?a:0;t.getApi(i.apis[r],r)}})).finally((function(){t.loading=!1}))},getApi:function(e,t){this.currentApi=e.name,this.currentApiIndex=t,this.$emit("selectApi",e),localStorage.setItem("currentApiIndex",t),localStorage.setItem("api",JSON.stringify(e))}}}),C=j,w=(n("db4a"),Object(b["a"])(C,g,O,!1,null,"5731fe7e",null)),S=w.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"api"},[n("div",{staticClass:"name"},[e._v(e._s(e.api.name))]),n("div",{staticClass:"desc"},[e._v(e._s(e.api.desc))]),n("div",{staticClass:"api__info"},[n("span",{class:["method",e.api.method]},[e._v(e._s(e.api.method))]),n("span",{staticClass:"url"},[e._v(e._s(e.api.url))])]),"GET"!==e.api.method?n("Type",{attrs:{title:"请求Body",body:e.api.body}}):n("Type",{attrs:{title:"请求路由参数",body:e.api.body}}),n("Type",{attrs:{title:"响应Body",body:e.api.response}}),n("div",{staticClass:"tests"},e._l(e.api.test_data,(function(t,i){return n("Test",{key:i,attrs:{name:"测试用例"+(i+1),api:e.api,data:t}})})),1)],1)},x=[],A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"type"},[n("div",{staticClass:"title"},[e._v(" "+e._s(e.title)+" ")]),e.innerBody.length>0?n("div",{staticClass:"body"},e._l(e.innerBody,(function(e){return n("div",{key:e.prop,staticClass:"field"},[n("Field",{attrs:{field:e}})],1)})),0):n("div",{staticClass:"none"},[e._v("无参数")])])},P=[],I=(n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("2ca0"),n("159b"),n("ade3")),E=n("0d23");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(I["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k={name:"simple-type",props:{title:String,body:Object},computed:{innerBody:function(){var e=this,t=[];return this.body&&Object.keys(this.body).forEach((function(n){n.startsWith("$")||t.push(T({prop:n},e.body[n]))})),t}},components:{Field:E["default"]}},N=k,$=(n("9692"),Object(b["a"])(N,A,P,!1,null,"920e45ec",null)),F=$.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"name"},[e._v(e._s(e.name))]),n("el-button",{attrs:{type:"primary"},on:{click:e.testApi}},[e._v(" 测试 ")]),e.data.request?n("div",{staticClass:"request"},[n("div",{staticClass:"body"},[e._v("请求Body")]),n("div",{ref:"copy",staticClass:"copy",attrs:{"data-clipboard-text":e.request,"data-clipboard-action":"copy"},on:{click:e.copy}},[e._v(" 复制 ")]),n("pre",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"highlight",domProps:{innerHTML:e._s(e.data.request)}},[e._v("  ")])]):n("div",{staticClass:"none"},[e._v(" 无请求Body ")]),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"response"},[n("div",{staticClass:"body"},[e._v("响应Body")]),n("div",{ref:"copy",staticClass:"copy",attrs:{"data-clipboard-text":e.response,"data-clipboard-action":"copy"},on:{click:e.copy}},[e._v(" 复制 ")]),n("pre",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"highlight",domProps:{innerHTML:e._s(e.data.response)}},[e._v("  ")])])],1)},B=[],L=(n("c19f"),n("ace4"),n("ac1f"),n("1276"),n("0fb7"),n("f529")),J=n.n(L),H=(n("1951"),n("eedf")),R=n.n(H),W=n("b311"),U=n.n(W),G=(n("99af"),n("5319"),n("841c"),n("bc3a")),z=n.n(G),K=n("4328"),Q=n.n(K),V={"Content-Type":"application/json"};function X(){var e=Q.a.parse(window.location.search.replace("?","")),t=e.server_url?e.server_url:"http://139.155.127.14:9000";return t}function Y(e){var t=e.baseURL,n=void 0===t?X():t,i=e.url,a=e.method,r=e.headers,s=void 0===r?V:r,c=e.body,o=void 0===c?{}:c,l=a?a.toLowerCase():"get",u=z.a.create({baseURL:n,headers:s});if("get"===l){var d=Q.a.stringify(o);return u.get("".concat(i).concat(d?"?":"").concat(d))}return u[l](i,o)}var Z={name:"test",components:{"el-button":R.a},props:{api:Object,data:Object,name:String},data:function(){return{response:"",loading:!1}},computed:{request:function(){return JSON.stringify(this.data.request)}},watch:{data:function(e){e&&(this.response=JSON.stringify(e.response))}},methods:{copy:function(){var e=new U.a(".copy");e.on("success",(function(){J.a.success("复制成功"),e.destroy()}))},getFormData:function(){var e=this,t=new FormData;return Object.keys(this.data.request).forEach((function(n){var i=e.data.request[n],a=n.split(".").pop();if(/(jp?eg|png)$/.exec(a)){var r=new ArrayBuffer(32),s=new File(r,i,{type:"image/".concat(a)});t.append(n,s)}else t.append(n,i)})),t},testApi:function(){var e=this;this.loading=!0;var t="formdata"===this.api.body_mode,n={"Content-Type":t?"multipart/form-data":"application/".concat(this.api.body_mode)};Y({headers:n,url:this.api.url,method:this.api.method,body:t?this.getFormData():this.data.request}).then((function(t){e.response=t.data})).catch((function(e){J.a.error(e.message)})).finally((function(){e.loading=!1}))}}},ee=Z,te=(n("2ccc"),Object(b["a"])(ee,q,B,!1,null,"21cae256",null)),ne=te.exports,ie={components:{Type:F,Test:ne},props:{api:Object}},ae=ie,re=(n("31db"),Object(b["a"])(ae,D,x,!1,null,"cc74ea02",null)),se=re.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"doc__container"},[n("div",{staticClass:"name"},[e._v(e._s(e.doc.name))]),n("div",{staticClass:"desc",domProps:{innerHTML:e._s(e.docDesc)}})])},oe=[],le={props:{doc:Object},computed:{docDesc:function(){return this.doc.desc?m(this.doc.desc):""}}},ue=le,de=(n("a7eb"),Object(b["a"])(ue,ce,oe,!1,null,"405d030b",null)),pe=de.exports,fe={components:{Main:y,Menu:S,Api:se,Doc:pe},mounted:function(){this.$store.dispatch("getApiDocs");var e=localStorage.getItem("app.isMain");this.isMain="true"===e||null===e},computed:{baseInfo:function(){return this.$store.state.baseInfo}},data:function(){return{api:{},doc:{},isMain:!0,menuWidth:250}},methods:{handleSelectName:function(){this.isMain=!0,localStorage.setItem("app.isMain",!0)},handleSelectDoc:function(e){this.doc=e,this.isMain=!1,localStorage.setItem("app.isMain",!1)},handleSelectApi:function(e){this.api=e,this.isMain=!1,localStorage.setItem("app.isMain",!1)}}},me=fe,ve=(n("034f"),n("49f1"),Object(b["a"])(me,o,l,!1,null,"14d2ee24",null)),he=ve.exports,be=n("8c4f");r["default"].use(be["a"]);var _e=[],ye=new be["a"]({mode:"history",base:"/",routes:_e}),ge=ye,Oe=(n("4e82"),n("2f62")),je=function(){return z.a.get("".concat(X(),"/__api_docs/"))},Ce=function(e){return z.a.get("".concat(X(),"/__api_docs/api_data/?filename=").concat(e))},we=function(e){return z.a.get("".concat(X(),"/_data/").concat(e))};function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Object(I["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}r["default"].use(Oe["a"]);var xe=new Oe["a"].Store({state:{baseInfo:{},docs:{},models:{}},mutations:{SET_BASE_INFO:function(e,t){e.baseInfo=t},ADD_DOCS:function(e,t){var n=t.filename,i=t.doc;e.docs[n]=i},ADD_MODEL:function(e,t){var n=t.filename,i=t.model;e.models[n]=i}},actions:{getApiDocs:function(e){var t=e.commit;je().then((function(e){t("SET_BASE_INFO",De({},e.data,{api_docs:e.data.api_docs.sort((function(e,t){return e.order-t.order}))}))}))},getDocs:function(e,t){var n=e.state,i=e.commit,a=t.filename;return a in n.docs?Promise.resolve(n.docs[a]):Ce(a).then((function(e){return i("ADD_DOCS",{filename:a,doc:e.data}),e.data}))},getModel:function(e,t){var n=e.state,i=e.commit,a=t.filename;return a in n.models?Promise.resolve(n.models[a]):we(a).then((function(e){return i("ADD_MODEL",{filename:a,doc:e.data}),e.data}))}}});n("131f");r["default"].use(a.a.directive),r["default"].directive("highlight",(function(e){c.a.highlightBlock(e)})),r["default"].config.productionTip=!1,new r["default"]({router:ge,store:xe,render:function(e){return e(he)}}).$mount("#app")},"7ea7":function(e,t,n){},"85ec":function(e,t,n){},"8d41":function(e,t,n){},9692:function(e,t,n){"use strict";var i=n("ab18"),a=n.n(i);a.a},a3fb:function(e,t,n){"use strict";var i=n("d8e8"),a=n.n(i);a.a},a7eb:function(e,t,n){"use strict";var i=n("8d41"),a=n.n(i);a.a},ab18:function(e,t,n){},aef5:function(e,t,n){"use strict";var i=n("e7f0"),a=n.n(i);a.a},bd4a:function(e,t,n){},cc10:function(e,t,n){"use strict";var i=n("4566"),a=n.n(i);a.a},d8e8:function(e,t,n){},db4a:function(e,t,n){"use strict";var i=n("1f84"),a=n.n(i);a.a},e7f0:function(e,t,n){}});
//# sourceMappingURL=app.e8a9aee7.js.map